<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Voon File Inspector</title>
    <link rel="stylesheet" href="https://bootswatch.com/flatly/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="static/app.css">
</head>
<body id="voon-app">
<header>
    <div class="container">
        <h1 class="text-center">Voon File Inspector</h1>
    </div>
</header>

<div class="details_container"
     v-on:click="unselectItem($event)"
     v-bind:class="{'show': selectedItem !== null }">
    <ul class="details_modal">
        <h3>{{ selectedItem.title }}</h3>
        <img class="details_main_img" src="{{ selectedImage }}" alt="">

        <ul class="img_list">
            <li v-for="img in selectedItem.images">
                <img src="{{ img.thumbnail_image.url }}"
                     v-bind:class="{'selected': selectedImageIndex === $index }"
                     v-on:click="selectImage($index)"
                     alt="">
            </li>
        </ul>

        <div class="editorial_review" v-for="editorial_review in selectedItem.editorial_reviews">
            <div v-html="editorial_review"></div>
        </div>
</div>
</div>

<div class="container">
    <div v-if="!data" class="alert alert-dismissible alert-warning">
        <h4><strong>data GET parameter not found!</strong></h4>

        <p>You must provide a GET parameter called 'data' with voon json file absolute path</p>
    </div>

    <div class="aside">
        <ul class="list-group">
            <li class="list-group-item">
                <span class="badge">{{ totalItems }}</span>
                Total items
            </li>
            <li class="list-group-item">
                <span class="badge">{{ totalItemsSlected }}</span>
                Items selected
            </li>
            <li class="list-group-item">
                <span class="badge">{{ remainingItems }}</span>
                Remaining items
            </li>
        </ul>

        <button type="button"
                v-on:click="selectBadSalesRank()"
                class="btn btn-danger">Select bad sales ranks</button>
    </div>

    <div v-if="data" data-test="{{ data }}">
        <div v-for="item in data" class="col-xs-12 col-md-6">
            <div class="item_image" style="background-image: url({{ item.large_image_url }})">
                <div class="item_image_overlay" v-bind:class="{'selected': voonIdInside(item.voon_id)}">

                    <a class="item_add_btn"
                       v-on:click="toggleRemove(item.voon_id)">
                        <i class="fa"
                           v-bind:class="{'fa-plus': voonIdInside(item.voon_id), 'fa-plus-circle': !voonIdInside(item.voon_id)}">
                        </i>
                    </a>

                    <a class="item_details_btn" v-on:click="selectItem(item)">
                        See more details <i class="fa fa-eye"></i>
                    </a>
                </div>
            </div>
            <div class="item_title_container">
                <h4>{{ item.title }}</h4>
            </div>
            <table class="table table-striped table-hover ">
                <tbody>
                <tr class="info">
                    <td>Brand</td>
                    <td>{{ item.brand }}</td>
                </tr>
                <tr>
                    <td>Price</td>
                    <td>{{ item.price_and_currency[0] }} {{ item.price_and_currency[1] }}</td>
                </tr>
                <tr v-bind:class="{
                'success' : salesRankLimit.min > item.sales_rank,
                'info' : item.sales_rank >= salesRankLimit.min && item.sales_rank < salesRankLimit.medium,
                'warning' : item.sales_rank >= salesRankLimit.medium && item.sales_rank < salesRankLimit.max,
                'danger' : item.sales_rank >= salesRankLimit.max
                }">
                    <td>Sales Rank</td>
                    <td>{{ item.sales_rank }}</td>
                </tr>
                <tr>
                    <td>Model</td>
                    <td>{{ item.model }}</td>
                </tr>
                <tr>
                    <td>Color</td>
                    <td>{{ item.color }}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="command_container" v-bind:class="{ 'show': dataToRemove.length > 0 }">
        <input type="text" v-model="command" disabled>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.21/vue.min.js"></script>
<script src="static/app.js"></script>
</body>
</html>
